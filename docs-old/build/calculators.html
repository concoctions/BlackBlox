

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>The Calculators Module &mdash; blackblox.py 0.2.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="The IO Functions Module" href="io_functions.html" />
    <link rel="prev" title="The Industry Module" href="industry.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html">
          

          
            
            <img src="_static/logo150.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                blackblox v0.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">NOTE: This introductory document still must be updated with the latest feature set</a></li>
<li class="toctree-l1"><a class="reference internal" href="intro.html#what-is-blackblox-py">What is blackblox.py?</a></li>
<li class="toctree-l1"><a class="reference internal" href="unit.html">The Unit Process Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="chain.html">The Process Chain Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="factory.html">The Factory Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="industry.html">The Industry Module</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">The Calculators Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="io_functions.html">The IO Functions Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="dataconfig.html">The dataconfig Module</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">blackblox.py</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>The Calculators Module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/calculators.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="the-calculators-module">
<h1>The Calculators Module<a class="headerlink" href="#the-calculators-module" title="Permalink to this headline">¶</a></h1>
<p>Note: This page has not yet been formatted. It is currently only the automodule documentation.</p>
<span class="target" id="module-calculators"></span><p>Calculator functions used in balancing unit processes</p>
<p>This module contains the standard set of functions used to manipulate the
quantites specified in the user data. The calculation type specified by the
user must be of one of the type specified here, or one defined by the user in
custom_lookup.py</p>
<p>The “invert” option throughout the calculation helps the unit processes to
balance processes balance on an arbitrary known quantity even though
the user is specifying only a single-directional relationship between substance
quantities in the relationships table.</p>
<p>Note, the use of **kwargs in the function argument calls is required to
allow the functions to work properly, since all possible calculatr variables
are provided to the calculator function in unitprocess.py, whether or
not they are used by that specific function.</p>
<p>Module Outline:
- imports and logger
- function: check_qty
- function: Ratio
- function: Remainder
- function: ReturnValue
- function: MolMassRatio
- function: check_balance
- module variable: calcs_dict</p>
<dl class="function">
<dt id="calculators.Addition">
<code class="descclassname">calculators.</code><code class="descname">Addition</code><span class="sig-paren">(</span><em>qty</em>, <em>qty2</em>, <em>invert=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/calculators.html#Addition"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#calculators.Addition" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds one quantity to another.</p>
<p>Assuming the known values are X and X1, returns Y = X + X1.
If invert is True, then assumes that the known values are Y and X1, and
returns X = Y - X1</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>qty</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – The quantity of a known substance</li>
<li><strong>qty2</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – The quantity of another known substance</li>
<li><strong>invert</strong> – If True, subtracts rathers the values rather than adds them.
(Defaults to False)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The quantity of a third substance</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="calculators.Combustion">
<code class="descclassname">calculators.</code><code class="descname">Combustion</code><span class="sig-paren">(</span><em>known_substance, qty, unknown_substance, var, emissions_dict=False, inflows_dict=False, emissions_list=['CO2', 'SO2', 'H2O'], fuels_df=                                 HHV   CO2  H2O fuel                                            coal                           33.70  3.19    0 charcoal                       30.00  2.93    0 natural gas                    40.00  2.75    0 diesel                         45.30  3.15    0 wood chips                     21.00  1.80    0 steam                           2.77  0.00    1 coke                           29.01  3.23    0 Eurofer electricity mix proxy   1.00  0.11    0, **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/calculators.html#Combustion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#calculators.Combustion" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates fuel or energy quantity and combustion emissions</p>
<p>This is a function designed to calculate the quantity of fuel
necessary to generate a certain quantity of energy, or the quantity
of energy generated by combusting a given quantity of fuel. It requires
the existence of a dataframe with the HHV of the given fuel.</p>
<p>It can also calculate the emission of combustion, if relevent factors are
present in the fuel dataframe, and output that data to a outflows dictionary
(e.g that of the unit process calling the function).</p>
<p>Note:
Besides the listed emissions, it will also calculate “waste heat” based on
the combustion efficiency.</p>
<p>To maintain mass balances, the difference between the combustion emissions
and the fuel mass is added to the inflows dictionary (if specified) as
‘O2’ (oxygen). To calculate non-oxygen-based combustion emissions and
co-inflows, instead use the “stoichiometric_combustion” function, which
requires the elemental composition of the fuel.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Combustion</span><span class="p">(</span><span class="s1">&#39;charcoal&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;heat&#39;</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">)</span>
<span class="go">72.0</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Combustion</span><span class="p">(</span><span class="s1">&#39;heat&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;charcoal&#39;</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">)</span>
<span class="go">0.125</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>known_substance</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The name of the known substance, either a solid
fuel or an energy flow. If the string is not in the index of the
fuels dataframe, known_substance is assumed to be the energy
output of the combusted fuel.</li>
<li><strong>qty</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – the quantity of the known substance (mass or energy)</li>
<li><strong>unknown_substance</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The name of the unknown substance, either a
solid fuel or an energy flow. If the string is not in the index of
the fuels dataframe, known_substance is assumed to be the energy
output of the combusted fuel.</li>
<li><strong>var</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – the efficiency of combustion (Between 0 and 1).</li>
<li><strong>emissions_dict</strong> (<em>defaultdict/bool</em>) – The destination dictionary where to
store the calculated combustions emissions data. If no dictionary
is provided, emission data will not be stored.
(Defaults to False)</li>
<li><strong>inflows_dict</strong> (<em>defaultdict/bool</em>) – The destination dictionary where to
store the calculated combustion co-inputs data. If no dictionary
is provided, co-inputs data will not be stored. Currently the only
co-input considered is oxygen.
(Defaults to False)</li>
<li><strong>emissions_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – List of emissions to calculate, if emission
factors are available in the fuel dataframe
(Defaults to default_emission_list, defined above.)</li>
<li><strong>fuels_df</strong> (<em>dataframe</em>) – The dataframe containing the names, HHVs,
and emissions data of the fuel.
(Defaults to df_fuels)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The quantity of the unkown substance (fuel or energy)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="calculators.MolMassRatio">
<code class="descclassname">calculators.</code><code class="descname">MolMassRatio</code><span class="sig-paren">(</span><em>known_substance</em>, <em>qty</em>, <em>unknown_substance</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/calculators.html#MolMassRatio"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#calculators.MolMassRatio" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses the ratio of molecular mass of two substances to</p>
<p>This function takes the quantity of a known substance and the name of
that substance and another which are also valid chemical compositions
and uses the ratio of their molecular weights to calculate the quantity
of the substance of unknown quantity.</p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">MolMassRatio</span><span class="p">(</span><span class="s1">&#39;CaCO3&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;CO2&#39;</span><span class="p">)</span>
<span class="go">2.198564447495127</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">MolMassRatio</span><span class="p">(</span><span class="s1">&#39;C8H10N4O2&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;C12H22O11&#39;</span><span class="p">)</span>
<span class="go">8.81341527344784</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>known_substance</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The name of the substance of known quantity,
which must be a valid chemical composition</li>
<li><strong>qty</strong> – <p>The quantity of the known substance</p>
<dl class="docutils">
<dt>unknown_substance (str): The name of the substance of unknown quantity,</dt>
<dd>which must be a valid chemical composition.</dd>
</dl>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="calculators.Ratio">
<code class="descclassname">calculators.</code><code class="descname">Ratio</code><span class="sig-paren">(</span><em>qty</em>, <em>var</em>, <em>invert=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/calculators.html#Ratio"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#calculators.Ratio" title="Permalink to this definition">¶</a></dt>
<dd><p>Multiplies or divides a quantity by a given ratio.</p>
<p>This function exists as it is to allow unit processes to be calculated
backwards or forwards. The user only has to specify one relationship
(e.g. Y:X for a known X), but if it is Y that’s known, then it flips
the ratio to be X:Y.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Ratio</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">15</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Ratio</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">invert</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">1.6666666666666665</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>qty</strong> – The known quantity</li>
<li><strong>var</strong> – The ratio of unknown:known quantities</li>
<li><strong>invert</strong> (<em>Bool</em>) – Specigy True if the ratio is known:unknown. Converts the
ratio to 1/ratio.
(Default is False.)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The original quantity multipled by the ratio.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="calculators.Remainder">
<code class="descclassname">calculators.</code><code class="descname">Remainder</code><span class="sig-paren">(</span><em>qty</em>, <em>var</em>, <em>invert=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/calculators.html#Remainder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#calculators.Remainder" title="Permalink to this definition">¶</a></dt>
<dd><p>Multiplies a quantity by the inverse of a known ratio between 0 and 1</p>
<p>The Remainder function is useful when both the known and unknown quantities
are two parts of the same total, but the percentage balance may change
(such as with efficiencies (product + loss will always equal 100%).
The ratio of X:Y and Y:X should always equal 1.0.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Remainder</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">)</span>
<span class="go">3.5</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Remainder</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="n">invert</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">7.142857142857143</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>qty</strong> – The known quantity</li>
<li><strong>var</strong> – The ratio of known:total quantities. A number between 0 and 1,
where 1-var is the ratio of unknown:total.</li>
<li><strong>invert</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – True if the ratio is unknown:total. Converts the ratio
to 1/ratio.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="calculators.ReturnValue">
<code class="descclassname">calculators.</code><code class="descname">ReturnValue</code><span class="sig-paren">(</span><em>qty</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/calculators.html#ReturnValue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#calculators.ReturnValue" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the value passed to it.</p>
<p>Returns the value passed as the qty argument. Useful for creating temporary
values with unique names in the unit process’s temporary dictionary if
substance of same name exists in both input and output dictionary.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ReturnValue</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">5</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>qty</strong> – a quantity (or anything really)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">literally the exact thing you gave it.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">qty</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="calculators.Subtraction">
<code class="descclassname">calculators.</code><code class="descname">Subtraction</code><span class="sig-paren">(</span><em>qty</em>, <em>qty2</em>, <em>invert=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/calculators.html#Subtraction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#calculators.Subtraction" title="Permalink to this definition">¶</a></dt>
<dd><p>Subtracts one quantity from another.</p>
<p>Assuming the known values are X and X1, returns Y = X - X1.
If invert is True, then assumes that the known values are Y and X1, and
returns X = Y + X1</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>qty</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – The quantity of a known substance</li>
<li><strong>qty2</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – The quantity of another known substance</li>
<li><strong>invert</strong> – If True, adds rathers the values rather than subtracts them.
(Defaults to False)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The quantity of a third substance</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="data">
<dt id="calculators.calcs_dict">
<code class="descclassname">calculators.</code><code class="descname">calcs_dict</code><em class="property"> = {'addition': &lt;function Addition&gt;, 'combustion': &lt;function Combustion&gt;, 'molmassratio': &lt;function MolMassRatio&gt;, 'ratio': &lt;function Ratio&gt;, 'remainder': &lt;function Remainder&gt;, 'returnvalue': &lt;function ReturnValue&gt;, 'subtraction': &lt;function Subtraction&gt;}</em><a class="headerlink" href="#calculators.calcs_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary of calculators available to process unit process relationships.
Must be manually updated if additional calculators are added to this module.
Automatically pulls in calculators in the custom_lookup module, if they are
specified in the custom_calcs_dict in that module.</p>
<p>Used by the Unit Process class’s balance function.</p>
</dd></dl>

<dl class="function">
<dt id="calculators.check_balance">
<code class="descclassname">calculators.</code><code class="descname">check_balance</code><span class="sig-paren">(</span><em>inflow_dict</em>, <em>outflow_dict</em>, <em>raise_imbalance=True</em>, <em>ignore_flows=[]</em>, <em>only_these_flows=False</em>, <em>round_n=5</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/calculators.html#check_balance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#calculators.check_balance" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether two dictionary mass values sum to equivelent quantities</p>
<p>Used to check whether the inflows and outflows of a unit process are
balanced. Takes dictionaries of inflows and outflows with substance names
as keys and quantities as values. Optionally can use a list of substance name
prefix/suffix tags to exclude flows (e.g. energy flows in a mass balance), or
only include certain flows (e.g. only include those with the energy tag)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>inflow_dict</strong> (<em>dict/defaultdict</em>) – the dictionary of inflows with
the format inflow_dict[substance name] = quantity</li>
<li><strong>outflow_dict</strong> (<em>dict/defaultdict</em>) – the dictionary of outflows with
the format outflow_dict[substance name] = quantity</li>
<li><strong>round_n</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Number of places after the decimal to use when checking
if inflow and outflow masses are equivelent.
Defaults to 5.</li>
<li><strong>ignore_flows</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – A list of strings that indicate that a
substance is not be included in the balance. If any of the keys in
he inflow_dict or outflow_dict begin or end with a string in the
ignore_flows list, the substance will not be added to the total
quantity.
(Defaults to an empty list)</li>
<li><strong>only_these_flows</strong> (<em>bool/list</em>) – if given a list of strings, will only
include those flows that begin or end with the strings in this</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if the mass flows are balanced. Otherwise False.
float: sum of all mass inflows.
float: sum of all mass outflows.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="calculators.check_qty">
<code class="descclassname">calculators.</code><code class="descname">check_qty</code><span class="sig-paren">(</span><em>qty</em>, <em>fraction=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/calculators.html#check_qty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#calculators.check_qty" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks that a quantity is &gt; 0 and optionally &lt; 1.
Raises and error if the quantity is negative, and, optionally, if it is
less than one. Currently BlackBlox does not support negative masses or
energy contents. This isn’t quantum.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>qty</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – number to check</li>
<li><strong>fraction</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – whether the number should be between 0 and 1
(Defaults to False.)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="data">
<dt id="calculators.twoQty_calc_list">
<code class="descclassname">calculators.</code><code class="descname">twoQty_calc_list</code><em class="property"> = ['subtraction', 'addition']</em><a class="headerlink" href="#calculators.twoQty_calc_list" title="Permalink to this definition">¶</a></dt>
<dd><p>List of calculations that require two quantities to exist in the unit process flow dictionary.</p>
<p>Used by the Unit Process class’s balance function.</p>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="io_functions.html" class="btn btn-neutral float-right" title="The IO Functions Module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="industry.html" class="btn btn-neutral float-left" title="The Industry Module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, S.E. Tanzer

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>