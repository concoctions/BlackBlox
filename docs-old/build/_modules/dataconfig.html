

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>dataconfig &mdash; blackblox.py 0.2.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/logo150.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                blackblox v0.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../intro.html">NOTE: This introductory document still must be updated with the latest feature set</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro.html#what-is-blackblox-py">What is blackblox.py?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unit.html">The Unit Process Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chain.html">The Process Chain Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../factory.html">The Factory Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../industry.html">The Industry Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../calculators.html">The Calculators Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../io_functions.html">The IO Functions Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dataconfig.html">The dataconfig Module</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">blackblox.py</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Module code</a> &raquo;</li>
        
      <li>dataconfig</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for dataconfig</h1><div class="highlight"><pre>
<span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="sd">&quot;&quot;&quot; Data Input and Output default strings</span>

<span class="sd">This module contains variables used for default file paths, column headers</span>
<span class="sd">for input data files, as well as special variable strings (generally used)</span>
<span class="sd">to indicate whether something is All or None.</span>

<span class="sd">Please note that as of this time, these variables are case and white space</span>
<span class="sd">sensitive.</span>

<span class="sd">Module Outline:</span>

<span class="sd">- import statements and logger</span>
<span class="sd">- module variables: default filepaths (str)</span>
<span class="sd">- module variables: user data (dict)</span>
<span class="sd">- module variables: column headers (str)</span>
<span class="sd">    - for unit process library tabular data</span>
<span class="sd">    - for unit process relationships tabular data</span>
<span class="sd">    - for product chain linkages tabular data</span>
<span class="sd">    - for factory product chain list tabular data</span>
<span class="sd">    - for factory linkages tabular data</span>
<span class="sd">    - for industry data</span>
<span class="sd">- module variables: reserved words for tabular data</span>
<span class="sd">    - same_xls (list)</span>
<span class="sd">    - default_scenario (str)</span>
<span class="sd">    - no_var (list)</span>
<span class="sd">    - massless_flows (list)</span>
<span class="sd">    - connect_all (str)</span>
<span class="sd">    - all_factories (list)</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">bb_log</span> <span class="k">import</span> <span class="n">get_logger</span>
<span class="n">logger</span> <span class="o">=</span> <span class="n">get_logger</span><span class="p">(</span><span class="s2">&quot;config&quot;</span><span class="p">)</span>

<span class="c1"># DEFAULT FILEPATHS </span>
<span class="n">unit_process_library_file</span> <span class="o">=</span> <span class="s1">&#39;/Users/Tanzer/GitHub/BlackBlox/excelData/globalData.xlsx&#39;</span> 
<span class="sd">&quot;&quot;&quot;str: The filepath whre the unit process library file exists.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="n">unit_process_library_sheet</span> <span class="o">=</span> <span class="s1">&#39;Unit Processes&#39;</span>
<span class="sd">&quot;&quot;&quot;The worksheet of the unit process library, if in an Excel workbook</span>

<span class="sd">If not an excel worksheet, this variable should be None.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="n">outdir</span> <span class="o">=</span> <span class="s1">&#39;BlackBlox_output&#39;</span> 
<span class="sd">&quot;&quot;&quot;str: The default output directory.</span>

<span class="sd">Unless an absolute path is specified, BlackBlox will create the directory </span>
<span class="sd">as a subfolder of the current working directory.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="n">filepaths</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;unit_process_library_file&#39;</span><span class="p">:</span> <span class="n">unit_process_library_file</span><span class="p">,</span>
             <span class="s1">&#39;unit_process_library_sheet&#39;</span><span class="p">:</span> <span class="n">unit_process_library_sheet</span><span class="p">,</span>
             <span class="s1">&#39;outdir&#39;</span><span class="p">:</span> <span class="n">outdir</span><span class="p">,</span>
             <span class="p">}</span>
        

<span class="c1"># USER DATA</span>
<span class="n">user_data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Mysterious Stranger&quot;</span><span class="p">,</span>
             <span class="s2">&quot;affiliation&quot;</span><span class="p">:</span> <span class="s2">&quot;Mysterious Organization&quot;</span><span class="p">,</span>
             <span class="s2">&quot;project&quot;</span><span class="p">:</span> <span class="s2">&quot;Mysterious Project&quot;</span><span class="p">,</span>
<span class="p">}</span>


<span class="c1"># LOOKUP VARIABLES</span>
<span class="n">lookup_var_dict</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="s1">&#39;fuel&#39;</span><span class="p">:</span> <span class="nb">dict</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="s1">&#39;/Users/Tanzer/GitHub/BlackBlox/excelData/globalData.xlsx&#39;</span><span class="p">,</span>
                 <span class="n">sheet</span><span class="o">=</span><span class="s1">&#39;Fuels&#39;</span><span class="p">,</span>
                 <span class="n">lookup_var</span><span class="o">=</span><span class="s1">&#39;fuelType&#39;</span><span class="p">),</span>
    <span class="p">}</span> 
<span class="sd">&quot;&quot;&quot;dictionary of special lookup substance names</span>
<span class="sd">Lookup_var_dict is a dictionary with the names of substance, that when used</span>
<span class="sd">in the unit process calculations file, will trigger the program to replace</span>
<span class="sd">the lookup substance name with the substance name specified in the unit </span>
<span class="sd">process&#39;s variable data table for the scenario currently in use.</span>

<span class="sd">Each entry in this dictionary should be formatted with the following:</span>

<span class="sd">    **key** *(str)*: the substance name to be used in the calcuations file</span>

<span class="sd">    **value** *(dict)*: a dictionary of lookup variable attributes, containing:</span>
<span class="sd">        **lookup_var** *(str)*: the header of the column in the unit process </span>
<span class="sd">        variable file that contains the value with which to replace</span>
<span class="sd">        the lookup substance word.</span>

<span class="sd">        **data_frame** *(optional)*: a data frame with additional custom data</span>
<span class="sd">        about the lookup variable, such as to be used in custom functions,</span>
<span class="sd">        below. These are not used elsewhere in BlackBlox.py.</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="c1"># SUBSTANCE VARIABLES</span>

<span class="n">default_units</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;mass&#39;</span><span class="p">:</span> <span class="s1">&#39;tonnes&#39;</span><span class="p">,</span> 
                 <span class="s1">&#39;energy&#39;</span><span class="p">:</span><span class="s1">&#39;GJ&#39;</span><span class="p">,</span>
<span class="p">}</span>


<span class="n">energy_flows</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;heat&#39;</span><span class="p">,</span> <span class="s1">&#39;energy&#39;</span><span class="p">,</span> <span class="s1">&#39;electricity&#39;</span><span class="p">,</span> <span class="s1">&#39;power&#39;</span><span class="p">]</span>
<span class="sd">&quot;&quot;&quot;list: indicator that a substance is an energy flow</span>

<span class="sd">Usable in flow names. Must be used at the beginning or end of the flow name.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="n">default_emissions</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;CO2&#39;</span><span class="p">,</span> <span class="s1">&#39;SO2&#39;</span><span class="p">,</span> <span class="s1">&#39;H2O&#39;</span><span class="p">]</span>

<span class="c1"># COLUMN HEADERS</span>
<span class="c1"># for UNIT LIBRARY tabular data:</span>
<span class="n">unit_name_col</span> <span class="o">=</span> <span class="s1">&#39;name&#39;</span>
<span class="n">unit_product</span> <span class="o">=</span> <span class="s1">&#39;product&#39;</span>
<span class="n">unit_product_io</span> <span class="o">=</span> <span class="s1">&#39;productType&#39;</span>
<span class="n">var_filepath</span> <span class="o">=</span> <span class="s1">&#39;varFile&#39;</span>
<span class="n">var_sheetname</span> <span class="o">=</span> <span class="s1">&#39;varSheet&#39;</span>
<span class="n">calc_filepath</span> <span class="o">=</span> <span class="s1">&#39;calcFile&#39;</span>
<span class="n">calc_sheetname</span> <span class="o">=</span> <span class="s1">&#39;calcSheet&#39;</span>

<span class="c1"># for UNIT PROCESS relationship tabular data:</span>
<span class="n">known</span> <span class="o">=</span> <span class="s1">&#39;KnownQty&#39;</span>
<span class="n">known_io</span> <span class="o">=</span> <span class="s1">&#39;k_QtyFrom&#39;</span>
<span class="n">unknown</span> <span class="o">=</span> <span class="s1">&#39;UnknownQty&#39;</span>
<span class="n">unknown_io</span> <span class="o">=</span> <span class="s1">&#39;u_QtyTo&#39;</span>
<span class="n">calc_type</span> <span class="o">=</span> <span class="s1">&#39;Calculation&#39;</span>
<span class="n">calc_var</span> <span class="o">=</span> <span class="s1">&#39;Variable&#39;</span>
<span class="n">known2</span> <span class="o">=</span> <span class="s1">&#39;2nd Known Substance&#39;</span>
<span class="n">known2_io</span> <span class="o">=</span> <span class="s1">&#39;2Qty Origin&#39;</span>

<span class="c1"># for UNIT PROCESS scenario values tabular data:</span>
<span class="n">combustion_efficiency_var</span> <span class="o">=</span> <span class="s1">&#39;combustEff&#39;</span>

<span class="c1"># for production CHAIN linkages tabular data:</span>
<span class="n">inflow_col</span> <span class="o">=</span> <span class="s1">&#39;Inflow&#39;</span>
<span class="n">outflow_col</span> <span class="o">=</span> <span class="s1">&#39;Outflow&#39;</span>
<span class="n">process_col</span> <span class="o">=</span> <span class="s1">&#39;Process&#39;</span>

<span class="c1"># for FACTORY chain list tabular data:</span>
<span class="n">chain_name</span> <span class="o">=</span> <span class="s1">&#39;ChainName&#39;</span>
<span class="n">chain_product</span> <span class="o">=</span> <span class="s1">&#39;ChainType&#39;</span>
<span class="n">chain_product</span> <span class="o">=</span> <span class="s1">&#39;ChainProduct&#39;</span>
<span class="n">chain_io</span> <span class="o">=</span> <span class="s1">&#39;Product_IO&#39;</span>
<span class="n">chain_filepath</span> <span class="o">=</span> <span class="s1">&#39;ChainFile&#39;</span>
<span class="n">chain_sheetname</span> <span class="o">=</span> <span class="s1">&#39;ChainSheet&#39;</span>

<span class="c1"># for FACTORY connections tabular data:</span>
<span class="n">origin_chain</span> <span class="o">=</span> <span class="s2">&quot;Origin_Chain&quot;</span>
<span class="n">origin_unit</span> <span class="o">=</span> <span class="s2">&quot;Origin_Unit&quot;</span>
<span class="n">origin_io</span> <span class="o">=</span> <span class="s2">&quot;Product_IO_of_Origin&quot;</span>
<span class="n">connect_product</span> <span class="o">=</span> <span class="s2">&quot;Product&quot;</span>
<span class="n">dest_chain</span> <span class="o">=</span> <span class="s2">&quot;Destination_Chain&quot;</span>
<span class="n">dest_unit</span> <span class="o">=</span> <span class="s2">&quot;Destination_Unit&quot;</span>
<span class="n">dest_io</span> <span class="o">=</span> <span class="s2">&quot;Product_IO_of_Destination&quot;</span>
<span class="n">replace</span> <span class="o">=</span> <span class="s2">&quot;Recycle_Replacing&quot;</span>
<span class="n">purge_fraction</span> <span class="o">=</span> <span class="s2">&quot;Purge_Fraction&quot;</span>
<span class="n">max_replace_fraction</span> <span class="o">=</span> <span class="s2">&quot;Max_Replace_Fraction&quot;</span>


<span class="c1"># for INDUSTRY tablular data</span>
<span class="n">factory_name</span> <span class="o">=</span> <span class="s2">&quot;Factory Name&quot;</span>
<span class="n">factory_filepath</span> <span class="o">=</span> <span class="s2">&quot;Factory File&quot;</span>
<span class="n">f_chain_list_file</span> <span class="o">=</span> <span class="s2">&quot;Chains File&quot;</span>
<span class="n">f_chains_sheet</span> <span class="o">=</span> <span class="s2">&quot;Factory Chains Sheet&quot;</span>
<span class="n">f_connections_file</span> <span class="o">=</span> <span class="s2">&quot;Connections File&quot;</span>
<span class="n">f_connections_sheet</span> <span class="o">=</span> <span class="s2">&quot;Factory Connections Sheet&quot;</span>
<span class="n">f_product</span> <span class="o">=</span> <span class="s2">&quot;Factory Product&quot;</span>
<span class="n">f_product_qty</span> <span class="o">=</span> <span class="s2">&quot;Product Qty&quot;</span>
<span class="n">f_scenario</span> <span class="o">=</span> <span class="s2">&quot;Scenario&quot;</span>


<span class="c1"># SPECIAL FILE VARIALBES</span>
<span class="n">same_xls</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;thisfile&#39;</span><span class="p">,</span> <span class="s1">&#39;same&#39;</span><span class="p">,</span> <span class="s1">&#39;here&#39;</span><span class="p">]</span>
<span class="sd">&quot;&quot;&quot;list: strings indicating the data is in the current Excel workbook</span>

<span class="sd">Usable as a replacement for a filepath for input data that is in an</span>
<span class="sd">Excel workbook with multiple sheets. The correct Excel sheet must still</span>
<span class="sd">be specified.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="n">default_scenario</span> <span class="o">=</span> <span class="s2">&quot;default&quot;</span> 
<span class="sd">&quot;&quot;&quot;str: the index used for the default scenario of variables</span>

<span class="sd">Usable in the unit process variables data tables. </span>
<span class="sd">If present in the variables data index, the default scenario will be used</span>
<span class="sd">when a scenario of variables is not otherwise specified.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="n">no_var</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="s1">&#39;false&#39;</span><span class="p">,</span> <span class="s1">&#39;na&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;nan&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;nan&#39;</span><span class="p">)]</span> 
<span class="sd">&quot;&quot;&quot;str: indicator that no variable is used in the calculation</span>

<span class="sd">Usable in the unit process calculation table, to indicate that the </span>
<span class="sd">calculation type requires no variable beyond the names of the substances. </span>
<span class="sd">(e.g. MolMassRatio)</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="n">connect_all</span> <span class="o">=</span> <span class="s1">&#39;all&#39;</span>
<span class="sd">&quot;&quot;&quot;str: indicator that all processes of a chain connect to the destination</span>

<span class="sd">Usable in the factory connections table, for the &quot;origin process&quot; column.</span>
<span class="sd">Indicates that  every process of the origin chain is connected to the </span>
<span class="sd">destination chain by the specified product.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="n">all_factories</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;industry&#39;</span><span class="p">,</span> <span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="s1">&#39;factories&#39;</span><span class="p">]</span> 
<span class="sd">&quot;&quot;&quot;list: strings indicating all factories in a given industry</span>

<span class="sd">Useable as a row index in industry scenario tables to indicate that a</span>
<span class="sd">production quantity or scenario applies to all factories producing the </span>
<span class="sd">specified product. </span>

<span class="sd">If used to specify an industry-wide total product production quantity, </span>
<span class="sd">each factory producing that product should specify their production quantity </span>
<span class="sd">as a fraction of that total as a decimal between 0 and 1.</span>
<span class="sd">&quot;&quot;&quot;</span>


<div class="viewcode-block" id="set_config"><a class="viewcode-back" href="../dataconfig.html#dataconfig.set_config">[docs]</a><span class="k">def</span> <span class="nf">set_config</span><span class="p">(</span><span class="n">config_data</span><span class="p">,</span> <span class="n">user_data</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Allows user to specify config data without changing module default values</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">config_data</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">type</span><span class="p">(</span><span class="n">user_data</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">f</span><span class="s2">&quot;user data ({type(user_data)}) is not of the same type as the config data ({type(config_data)})&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">user_data</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">user_data</span><span class="p">:</span>
            <span class="n">config_data</span><span class="p">[</span><span class="n">var</span><span class="p">]</span> <span class="o">=</span> <span class="n">user_data</span><span class="p">[</span><span class="n">var</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">config_data</span> <span class="o">=</span> <span class="n">user_data</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">f</span><span class="s2">&quot;</span><span class="si">{config_data}</span><span class="s2"> replaced with </span><span class="si">{user_data}</span><span class="s2">&quot;</span><span class="p">)</span></div>
</pre></div>

           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, S.E. Tanzer

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>